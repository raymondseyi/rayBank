(()=>{"use strict";var t,e={6494:t=>{t.exports={getRequestOptions:function(){var t={};return window.location.href.match(/\.saymedia\.com|\.xip\.io|localhost/)&&(t.headers={Authorization:"Basic cGhvZW5peDpwaG9lbml4"}),t}}},7308:(t,e,o)=>{var n=o(6494);function i(t,e,o,r){var a=function(t,e,o){return[o=o||"","/.api/stream-html",window.location.pathname.replace(o,""),"?moreResultsToken=",t,"&initialSlots=",e,""===window.location.search?"":"&"+window.location.search.substring(1)].join("")}(e,o,r);t.querySelector(".m-component-footer--loading").style.display="block",t.querySelector(".m-component-footer--button-text").style.display="none";var s=n.getRequestOptions();fetch(a,s).then((function(t){return t.json()})).then((function(e){if("string"==typeof e.html&&""!==e.html){var o=document.createElement("div");o.innerHTML=e.html,r=o,window.angular&&window.angular.element(document.body).injector().invoke(["$compile","$rootScope",function(t,e){t(r)(e),e.$$phase||e.$digest()}]);var n=o.querySelector(".m-component-footer--container");n&&(a=n).querySelector(".m-component-footer--loader").addEventListener("click",(function(){i(a,a.getAttribute("stream-more-items"),a.getAttribute("initial-slots"),a.getAttribute("site-base-path"))})),function(t,e){var o=t.parentNode;for(o.removeChild(t);e.firstChild;)o.appendChild(e.firstChild)}(t,o),window.dispatchEvent(new window.CustomEvent("contentAdded"))}var r,a}))}t.exports={init:function(){Array.prototype.slice.call(document.querySelectorAll("[stream-more-items],[footer-link]")).forEach((function(t){if(!t.getAttribute("stream-more-items-seen")){var e=t.querySelector("button"),o=t.getAttribute("initial-slots"),n=t.getAttribute("footer-link"),r=t.getAttribute("stream-more-items"),a=t.getAttribute("site-base-path");n?e.addEventListener("click",(function(){window.location.href=n})):r&&e.addEventListener("click",(function(){i(t,r,o,a)})),t.setAttribute("stream-more-items-seen","true")}}))}}}},o={};(t=function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{}};return e[n](i,i.exports,t),i.exports}(7308)).init(),window.addEventListener("DOMContentLoaded",t.init)})();
//# sourceMappingURL=streamMoreItems.min.js.map