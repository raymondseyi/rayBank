(()=>{"use strict";var e={6494:e=>{e.exports={getRequestOptions:function(){var e={};return window.location.href.match(/\.saymedia\.com|\.xip\.io|localhost/)&&(e.headers={Authorization:"Basic cGhvZW5peDpwaG9lbml4"}),e}}},3950:e=>{e.exports={breakpoints:{A:0,B:675,C:1240}}},9736:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var a=n(3950).breakpoints;function u(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document.head;return new Promise((function(r,i){var o=document.createElement("script");t&&(o.id=t),o.onload=function(){r(o)},o.onerror=function(e){i(e)},o.type="text/javascript",o.src=e,n.appendChild(o)}))}var c={};function l(){var e,t=window.innerWidth;for(var n in a)t>=a[n]&&(e=n);return e}var f,d,v,h=function(){function e(){i(this,e),this.observedBreakpoint=void 0,this.subscribers=[],this._observe()}return s(e,[{key:"_observe",value:function(){var e=this;this.observedBreakpoint=l(),window.addEventListener("resize",(function(){var t=l();t!==e.observedBreakpoint&&(e.observedBreakpoint=t,e.subscribers.forEach((function(e){e.onBreakpointChange(t)})))}))}},{key:"subscribe",value:function(e){if(!e.onBreakpointChange)throw new Error("onBreakpointChange method required");this.unsubscribe(e),this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){var t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}}]),e}();function b(){return"complete"===document.readyState||"interactive"===document.readyState}var p,y,m,g="190px 0px",w={},k=function(){function e(t,n){i(this,e),this.callback=t,this.timerId=null,this.restart(n)}return s(e,[{key:"restart",value:function(e){this.remaining=e,this.resume()}},{key:"resume",value:function(){this.start=new Date,clearTimeout(this.timerId),this.timerId=setTimeout(this.callback,this.remaining)}},{key:"pause",value:function(){clearTimeout(this.timerId),this.remaining-=new Date-this.start}},{key:"cancel",value:function(){clearTimeout(this.timerId),this.cancelled=!0}}]),e}();e.exports={addScriptResource:u,addScriptResourceOnce:function(e,t,n){var r=t||e;return c[r]||(c[r]=u(e,t,n))},debounce:function(e,t,n){function i(){return(new Date).getTime()}function o(){var n=t-(i()-d);if(0>=n||n>t){l&&window.clearTimeout(l);var r=b;l=h=b=void 0,r&&(m=i(),f=e.apply(v,u),!h&&!l&&(u=v=null))}else h=window.setTimeout(o,n)}function s(){h&&window.clearTimeout(h),l=h=b=void 0,(w||g!==t)&&(m=i(),f=e.apply(v,u),!h&&!l&&(u=v=null))}function a(){var n,r,a;return u=arguments,d=i(),v=this,b=w&&(h||!c),!1===g?n=c&&!h:(!l&&!c&&(m=d),(a=0>=(r=g-(d-m))||r>g)?(l&&(l=window.clearTimeout(l)),m=d,f=e.apply(v,u)):!l&&(l=window.setTimeout(s,r))),a&&h?h=window.clearTimeout(h):!h&&t!==g&&(h=window.setTimeout(o,t)),n&&(a=!0,f=e.apply(v,u)),!a||h||l||(u=v=null),f}var u,c,l,f,d,v,h,b,p,y,m=0,g=!1,w=!0;if(a.cancel=function(){h&&window.clearTimeout(h),l&&window.clearTimeout(l),l=h=b=void 0},"function"!=typeof e)throw new TypeError("this is not a function!");return t=0>t?0:+t||0,!0===n?(c=!0,w=!1):(y=r(p=n),!!p&&("object"===y||"function"===y)&&(c=n.leading,g="maxWait"in n&&Math.max(+n.maxWait||0,t),w="trailing"in n?n.trailing:w)),a},getCurrentBreakpoint:l,isExternalLink:function(e,t){if(!e)return!1;t||(t=function(){if(!y){var e=document.querySelector("link[rel='canonical']"),t=document.createElement("a");t.href=e.href,y=t.hostname}return y}());var n=e.match(/^https?:\/\/([^/]+)\/?/);return!!n&&n[1]!==t},isLiftIgniterSlice:function(e,t){return(0|e/100)%100<t},observeBreakpointChanges:function(e){return f||(f=new h),f.subscribe(e),f},observeFirstIntersection:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g,n=w[t]||(w[t]=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(t.unobserve(e.target),e.target.onFirstIntersection&&e.target.onFirstIntersection())}))}),{rootMargin:t}));return n.observe(e),n},observeVisibilityChanges:function(e){return p||(p=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&.5<=e.intersectionRatio?e.target.onChangeToVisible&&e.target.onChangeToVisible():e.target.onChangeToNotVisible&&e.target.onChangeToNotVisible()}))}),{threshold:.5})),p.observe(e),p},supportPassiveEventListeners:function(){if(void 0===m){m=!1;try{var e=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(e){}}return m},throttle:function(e,t){var n,r,i,o,s=0,a=function(){s=new Date,i=null,o=e.apply(n,r)};return function(){var u=new Date,c=t-(u-s);return n=this,r=arguments,0>=c?(i&&clearTimeout(i),s=u,o=e.apply(n,r)):!i&&(i=setTimeout(a,c)),o}},Timer:k,userHasPremium:function(){return new Promise((function(e,t){window.phxConfigQueue||t("config object is necessary to check premium"),window.phxConfigQueue.push((function(){e(this.user.hasPremium())}))}))},waitForElement:function(e,t,n){if(!e)throw new Error("rootElement required");var r;return n&&n.untilDomReady&&(r=function(e){b()&&e()}),function(e,t,n,r){var i=e.querySelector(t);return i?Promise.resolve(i):new Promise((function(i,o){var s=new MutationObserver((function(){var n=e.querySelector(t);return n?(s.disconnect(),void i(n)):void(r&&r((function(){return s.disconnect(),void o(new Error("element not found"))})))}));s.observe(e,n)}))}(e,t,{childList:!0,subtree:!0},r)},whenDomContentLoaded:function(){return d||(d=b()?Promise.resolve():new Promise((function(e){document.addEventListener("DOMContentLoaded",e)}))),d},whenPageLoaded:function(){return v||(v="complete"===document.readyState?Promise.resolve():new Promise((function(e){window.addEventListener("load",e)}))),v}}},2808:e=>{function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(n);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var l,f,d,v,h=e[c].replace(s,"%20"),b=h.indexOf(r);b>=0?(l=h.substr(0,b),f=h.substr(b+1)):(l=h,f=""),d=decodeURIComponent(l),v=decodeURIComponent(f),t(o,d)?Array.isArray(o[d])?o[d].push(v):o[d]=[o[d],v]:o[d]=v}return o}},2791:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},6642:(e,t,n)=>{t.decode=t.parse=n(2808),t.encode=t.stringify=n(2791)}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,n,r){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,n,r||e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function a(e){var t=f();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):n}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){function n(){return l(e,arguments,v(this).constructor)}if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)})(e)}function l(){return(l=f()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=n(6642),b=n(6494),p=n(9736),y=function(e){function t(){return r(this,t),n.apply(this,arguments)}s(t,e);var n=a(t);return o(t,[{key:"config",get:function(){return this._config||(this._config=this.getAttr("config",{parseJson:!0}))}},{key:"query",get:function(){return h.parse(document.location.search.slice(1))}},{key:"getAttr",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.getAttribute(e);if(t.required&&!n)throw new Error("attribute "+e+" is required for element "+this.tagName);return t.parseJson&&"string"==typeof n&&(n=JSON.parse(n)),n}},{key:"connectedCallback",value:function(){if(this.observedEmittedEvents){if(!this.emittedEventCallback)throw new Error("emittedEventCallback is required for element "+this.tagName);this._addEmittedEventsListeners()}if(this.observedBroadcastedEvents){if(!this.broadcastedEventCallback)throw new Error("broadcastedEventCallback is required for element "+this.tagName);this._addBroadcastedEventsListeners()}}},{key:"_addEmittedEventsListeners",value:function(){var e=this;this.observedEmittedEvents.forEach((function(t){e.addEventListener(t,e._emittedEventCallback)}))}},{key:"_removeEmittedEventsListeners",value:function(){var e=this;this.observedEmittedEvents&&this.observedEmittedEvents.forEach((function(t){e.removeEventListener(t,e._emittedEventCallback)}))}},{key:"_emittedEventCallback",value:function(e){e.stopPropagation(),this.emittedEventCallback(e.type,e)}},{key:"_addBroadcastedEventsListeners",value:function(){var e=this;this.observedBroadcastedEvents.forEach((function(t){e.emitEvent("register:broadcastListener",{bubbles:!0,detail:{type:t,callback:e.broadcastedEventCallback.bind(e)}})}))}},{key:"_removeBroadcastedEventsListeners",value:function(){var e=this;this.observedBroadcastedEvents&&this.observedBroadcastedEvents.forEach((function(t){e.emitEvent("unregister:broadcastListener",{bubbles:!0,detail:{type:t,callback:e.broadcastedEventCallback.bind(e)}})}))}},{key:"emitEvent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e&&this.dispatchEvent(new CustomEvent(e,t))}},{key:"waitForElement",value:function(e,t){return p.waitForElement(this,e,t)}},{key:"makeQueryablePromise",value:function(e){if(e.isResolved)return e;var t=!1,n=!1,r=e.then((function(e){return t=!0,e}),(function(e){throw n=!0,e}));return r.isFulfilled=function(){return t||n},r.isResolved=function(){return t},r.isRejected=function(){return n},r}},{key:"observeFirstIntersection",value:function(e){this._firstIntersectionObserver&&console.warn("already observed."),this._firstIntersectionObserver=p.observeFirstIntersection(this,e)}},{key:"onFirstIntersection",value:function(){throw new Error("must be subclassed")}},{key:"unobserveFirstIntersection",value:function(){this._firstIntersectionObserver&&(this._firstIntersectionObserver.unobserve(this),this._firstIntersectionObserver=void 0)}},{key:"observeVisibilityChanges",value:function(){this._visiblityObserver&&console.warn("already observed."),this._visiblityObserver=p.observeVisibilityChanges(this)}},{key:"unobserveVisibilityChanges",value:function(){this._visiblityObserver&&(this._visiblityObserver.unobserve(this),this._visiblityObserver=void 0)}},{key:"onChangeToVisible",value:function(){throw new Error("must be subclassed")}},{key:"onChangeToNotVisible",value:function(){throw new Error("must be subclassed")}},{key:"disconnectedCallback",value:function(){this.unobserveFirstIntersection(),this.unobserveVisibilityChanges(),this._removeEmittedEventsListeners(),this._removeBroadcastedEventsListeners()}},{key:"canRender",value:function(){var e,t=this.hasAttribute("block-premium"),n=this.hasAttribute("block-on-gdpr-applicable"),r=this.getAttribute("block-on-gdpr-vendor-consent"),i=this.hasAttribute("block-on-ccpa-reject"),o=this.hasAttribute("block-on-demonetized"),s=this.getAttribute("block-on-gdpr-purpose-consent");s&&(e=s.split(","));var a=r||e,u=[];t&&u.push(p.userHasPremium().then((function(e){return!e})));var c=window.GdprStatus;if(n&&u.push(c.isApplicableSafe().then((function(e){return!e}))),o&&u.push(c.isDemonetizedSafe().then((function(e){return!e}))),a&&u.push(c.isApplicableSafe().then((function(t){return!t||c.waitForConsentValue().then((function(){return r?c.isConsentGivenForVendorPurposes(r,e):c.isConsentGivenForPurposes(e)}))}))),i){var l=window.phxConsentManagement;if(!l)throw new Error("window.phxConsentManagement is required");u.push(l.ccpaAccepted())}return u.length?Promise.all(u).then((function(e){return e.every((function(e){return e}))})):Promise.resolve(!0)}}]),t}(c(HTMLElement)),m=function(e){function n(){return r(this,n),i.apply(this,arguments)}s(n,e);var i=a(n);return o(n,[{key:"observedEmittedEvents",get:function(){return["register:broadcastListener","unregister:broadcastListener","phoenix:dropDown","phoenix:overlay","phoenix:toggle:className"]}},{key:"emittedEventCallback",value:function(e,t){var n=t.detail.callback||function(){},r=t.detail.type,i=t.detail&&t.detail.value;switch(e){case"register:broadcastListener":r&&this.addEventListener(r,(function(e){n(r,e)}));break;case"unregister:broadcastListener":r&&this.removeEventListener(r,(function(e){n(r,e)}));break;case"phoenix:dropDown":this.emitEvent("phoenix:dropDown:active",{bubbles:!0,detail:{key:"phoenix:dropDown:active",value:i}});break;case"phoenix:overlay":document.body.style.overflow=i?"hidden":"";break;case"phoenix:toggle:className":var o=t.target.getAttr("toggle-element-selector");o&&i&&document.querySelectorAll(o).forEach((function(e){e.classList.toggle(i)}))}}},{key:"connectedCallback",value:function(){t(v(n.prototype),"connectedCallback",this).call(this),this._addListener()}},{key:"_addListener",value:function(){this.addEventListener("click",this.notifyPageClicked),this.observedBreakpoint=p.getCurrentBreakpoint(),window.addEventListener("resize",this.notifyBreakpointChange.bind(this))}},{key:"_removeListener",value:function(){this.removeEventListener("click",this.notifyPageClicked),window.removeEventListener("resize",this.notifyBreakpointChange.bind(this))}},{key:"notifyPageClicked",value:function(e){var t="phoenix:page:clicked";this.emitEvent(t,{bubbles:!0,detail:{key:t,value:e}})}},{key:"notifyBreakpointChange",value:function(){var e=p.getCurrentBreakpoint(),t="phoenix:breakpoint:changed";e!==this.observedBreakpoint&&(this.observedBreakpoint=e,this.emitEvent(t,{bubbles:!0,detail:{key:t,value:e}}))}},{key:"disconnectedCallback",value:function(){t(v(n.prototype),"disconnectedCallback",this).call(this),this._removeListener()}}],[{key:"basicAuth",get:function(){return b}},{key:"util",get:function(){return p}},{key:"PhoenixElement",get:function(){return y}}]),n}(y);window.customElements.define("phoenix-page",m)})()})();
//# sourceMappingURL=page.min.js.map