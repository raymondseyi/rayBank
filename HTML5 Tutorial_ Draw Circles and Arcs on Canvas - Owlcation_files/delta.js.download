(()=>{var e={5061:(e,t,n)=>{"use strict";var r,o=n(3990),i=n(8586),a=n(3901),s=n(4433),d=n(6426),l=n(1762),u=n(7965)("phxConfigQueue"),c=n(6041).Z,g=l.evalTemplate,p=0,f=0,h=[7,7],v={},m=!1,w=!1,y={},S={},b=0;function I(e,t,n,r){return new Promise((function(o,i){var a=e.getSlotElementId();y[a]={resolve:o,reject:i,config:t,model:n,req:r}}))}function T(e){var t=e.slot.getSlotElementId(),n=y[t];return n?(delete y[t],void n.resolve(e)):void console.warn("got slotRenderEnded for unknown slot",t)}function A(e){r.enableSingleRequest(),r.disableInitialLoad(),w&&r.setForceSafeFrame(!0),r.setSafeFrameConfig({sandbox:!0,allowOverlayExpansion:!0,allowPushExpansion:!0}),m||r.enableLazyLoad({renderMarginPercent:75,fetchMarginPercent:200,mobileScaling:2}),r.setCentering(!0),e.enableServices(),r.addEventListener("slotRenderEnded",T),c.listenForSlotRenderEnded(e)}function _(e,t,n,r){r&&r.prepareRequest(n);for(var o=0;o<n.length;o++)e.display(n[o].getSlotElementId());var i=function(n){e.pubadsReady?t.refresh(n,{changeCorrelator:!1}):window.setTimeout((function(){return i(n)}),100)};i(n)}u.then((function(e){m=e.features.isEnabled("disable-lazy-loading-ads"),w=e.features.isEnabled("use-safeframe")})),o.then((function(e){r=e.pubads();var t=window.GdprStatus;t.isApplicable().then((function(n){n?t.waitForConsentValue().then((function(){t.isConsentGivenForPurposes(t.PURPOSE_IDS.storage).then((function(t){t&&A(e)}))})):A(e)}))})),e.exports={getAdCallConfig:function(e,t){return{sizes:t}},initPage:function(){p++,f=0;var e=p,t=s("adServerDfp:initPage:"+e);return v={},o.then((function(){if(p===e){var n=window.GdprStatus;Promise.all([n.isApplicable(),n.isConsentGivenForPurposes(n.PURPOSE_IDS.advertising)]).then((function(e){e[0]&&!e[1]&&(b=1,r.setRequestNonPersonalizedAds(b))})),r.clearTargeting(),t.end()}else t.end()}))},requestAds:function(e,t,n,c){f++;for(var m=p,w=s("adServerDfp:requestAds:"+f),y=0;y<n.length;y++)n[y].rid=d().replace(/-/g,"");return o.then((function(o){function s(t){return function(n){var r=n.slot.getSlotElementId(),o=document.getElementById(r),i=n.slot.getResponseInformation();if(o){var a=n.size;if(n.isEmpty||a&&a[0]===h[0]&&a[1]===h[1]){var s=o.innerHTML,d=document.createComment(s);return o.innerHTML="",o.appendChild(d),{slotId:t.id,responseInfo:{dfp:i},element:o,filled:!1}}var l,u=a?a.join("x"):null;return u&&e.specialSizes&&(l=u,u=e.specialSizes[u]||u),o.classList.remove("is-placeholder"),{slotId:t.id,responseInfo:{dfp:i},element:o,sizeCode:u,sizeDims:l,filled:!0}}}}var d=[],f=[],y=[];if(p===m){for(var T=e.customTargetingPageTemplates,A=l.makePageTargeting(T,t,e,r),E=0;E<n.length;E++){var R=n[E],P=R.element.getAttribute("id");if(v.hasOwnProperty(P))d.push(v[P]);else if(!S.hasOwnProperty(P)){var O=i(window.location.href,r,f,y);7800<O.avgSlotSize+O.totalSize&&(_(o,r,f,c),f=[],y=[]);var k=Object.assign({},t,R.model,{rid:[R.rid]}),x=R.config.sizes,C=R.adUnitPath;if(k.isOutstream){var L=R.element.getAttribute("data-outstream-slot-id"),F=document.getElementById(L);a.prepareOutstreamAd(F,R.element,window,C,x,A,u,k.playerBiddingIds,b);continue}var z=void 0;if(null===(z=x?o.defineSlot(C,x,P):o.defineOutOfPageSlot(C,P))){console.warn("null slot - linked twice?");continue}z.addService(r),z.setTargeting("hb_pbd","0"),k.targetingFlag&&z.setTargeting(k.targetingFlag,"1");var B=e.customTargetingTemplates;for(var j in B)if(B.hasOwnProperty(j)){var D=g(B[j],k);"number"==typeof D&&(D+=""),null==D||""===D||Array.isArray(D)&&0===D.length||z.setTargeting(j,D)}f.push(z),y.push(x),S[P]=z,v[P]=I(z,e,k,R).then(s(R)),d.push(v[P])}}return f.length&&_(o,r,f,c),w.end(),d}w.end()}))},resetAdSlot:function(e){v.hasOwnProperty(e)&&delete v[e],y.hasOwnProperty(e)&&delete y[e],S.hasOwnProperty(e)&&o.then((function(t){t.destroySlots([S[e]]),delete S[e]}))}}},8586:e=>{"use strict";e.exports=function(e,t,n,r){if(!n||!n.length)return{avgSlotSize:0,totalSize:0};var o=591;o+=4,o+=encodeURIComponent(e).length;var i=t.getTargetingKeys();if(i&&i.length){o+=12;for(var a,s=0;s<i.length;s++)o+=(a=i[s]).length+3,o+=encodeURIComponent(t.getTargeting(a)).length;o+=3*(i.length-1)}var d=n[0].getAdUnitPath().split("/"),l=o+=8+encodeURIComponent(d.join(",")).length;o+=13+d.length*n.length+(d.length-1)*n.length*3+3*(n.length-1),o+=5,o+=3*n.length,o+=3*(n.length-1),o+=5,o+=5*n.length,o+=3*(n.length-1),o+=5,o+=10*n.length,o+=3*(n.length-1),o+=12,o+=3*(n.length-1),o+=9,o+=3*(n.length-1);for(var u=0;u<n.length;u++){if(r[u]){var c=r[u].length;o+=7*c,o+=3*(c-1)}var g=n[u].getTargetingKeys();if(g&&g.length){for(var p,f=0;f<g.length;f++)o+=(p=g[f]).length+3,o+=encodeURIComponent(n[u].getTargeting(p)).length;o+=3*(g.length-1)}}return{avgSlotSize:(o-l)/n.length,totalSize:o}}},3990:e=>{"use strict";var t=window.googletag||{};t.cmd=t.cmd||[];var n=t.cmd;e.exports=new Promise((function(e){n.push((function(){e(window.googletag)}))}))},6041:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var a;n.d(t,{Z:()=>c}),function(e){e[e.STATE_WAITING_FOR_STUB=0]="STATE_WAITING_FOR_STUB",e[e.STATE_WAITING_FOR_LIB_LOAD=1]="STATE_WAITING_FOR_LIB_LOAD",e[e.STATE_LIB_LOADED=2]="STATE_LIB_LOADED"}(a||(a={}));var s=function(){function e(){var t=this;r(this,e),this.state=a.STATE_WAITING_FOR_STUB,this._onReadyStateChange=function(e){return t._checkForStub("".concat(e.type," ").concat(document.readyState))},document.addEventListener("readystatechange",this._onReadyStateChange)}return i(e,[{key:"_checkForStub",value:function(e){var t=this;this.state===a.STATE_WAITING_FOR_STUB&&(null==window.$p||("checkforstub triggered by ".concat(e,": $p found"),document.removeEventListener("readystatechange",this._onReadyStateChange),this.state=a.STATE_WAITING_FOR_LIB_LOAD,window.$p("onload",(function(){return t._onLiftIgniterLoad()}))))}},{key:"_onLiftIgniterLoad",value:function(){this.state=a.STATE_LIB_LOADED,window.liftIgniterLoadPromiseResolved&&window.liftIgniterLoadPromiseResolved()}},{key:"isReady",value:function(){return this._checkForStub("isReady()"),this.state===a.STATE_LIB_LOADED}},{key:"sendSlotRenderEnded",value:function(e){window.$p("send","slotRenderEnded",e)}}]),e}(),d=function(){function e(t){r(this,e),this.ch=t,this.batch=[],this.timeout=null}return i(e,[{key:"track",value:function(e){null==this.timeout&&(this.timeout=setTimeout(this._sendBatch.bind(this),1e3)),this.batch.push(e)}},{key:"_sendBatch",value:function(){this.timeout=null;var e,t,n,r=this.batch.length-32;if(0<r&&("$p: Discarding ".concat(r," old items"),this.batch.splice(0,r)),this.ch.isReady()){"$p: Sending ".concat(this.batch.length," items");var o=(e=this.batch,t=JSON.stringify(e),n=0,e.forEach((function(e){n+=e.cpmm||0})),{batch:t,price:n});this.ch.sendSlotRenderEnded(o),this.batch.length=0}}}]),e}();function l(e){return null==e?void 0:e}var u=function(){function e(t){r(this,e),this.reporter=t,this.onSlotRenderEndedBound=this.onSlotRenderEnded.bind(this)}return i(e,[{key:"onSlotRenderEnded",value:function(e){var t=e.slot.getTargeting("hb_pb")[0],n=Math.round(1e3*+t);n=isFinite(n)?n:void 0;var r={slotElementId:e.slot.getSlotElementId(),cpmm:n,advertiserId:l(e.advertiserId),campaignId:l(e.campaignId),creativeId:l(e.creativeId),isEmpty:e.isEmpty,lineItemId:l(e.lineItemId),size:l(e.size),sourceAgnosticCreativeId:l(e.sourceAgnosticCreativeId),sourceAgnosticLineItemId:l(e.sourceAgnosticLineItemId)};this.reporter.track(r)}}]),e}();const c=new(function(){function e(){r(this,e),this.inner=null}return i(e,[{key:"listenForSlotRenderEnded",value:function(e){if(null!=this.inner)throw new Error("Already listening");var t=new s,n=new d(t),r=new u(n);e.pubads().addEventListener("slotRenderEnded",r.onSlotRenderEndedBound),this.inner=r}}]),e}())},3901:(e,t,n)=>{"use strict";var r=n(1762);e.exports={prepareOutstreamAd:function(e,t,n,o,i,a,s,d,l){var u=o.split("/"),c=n.location.protocol+"//"+n.location.host+n.location.pathname,g={adindex:"0",adzone:"outstream",adzoneindex:"outstream_0",siteadzoneindex:u[2]+"_outstream_0"},p={correlator:n.google_global_correlator||Math.floor(Math.random()*Math.pow(10,16)),description_url:c,sz:"640x360",impl:"s",iu:o,gdfp_req:1,env:"vp",output:"vast",unviewed_position_start:1,url:c},f=Object.keys(p).map((function(e){return e+"="+encodeURIComponent(p[e])}));f.push("cust_params="+r.vastCustomParams(g,a,!0)),l&&f.push("npa=1");var h="https://pubads.g.doubleclick.net/gampad/ads?"+f.join("&");d&&e.setAttribute("player-bidding",d);var v=t.getAttribute("id");e.addEventListener("outstreamFailed",(function(){n.phxAdvertisingQueue.push((function(){var n=this;e&&e.parentNode&&(t.classList.add("is-filled"),e.parentNode&&e.parentNode.parentNode&&e.parentNode.parentNode.classList.remove("is-outstream"),e.parentNode.removeChild(e)),s.then((function(e){var t=e.breakpoint.get();n.dynamicCall({slots:[{adUnitPath:o,id:v,config:{sizes:i,screenSizes:[t]},model:{nativeCardType:"A"===t?"standard":"list",zone:"outstream_fallback",index:0,isOutstream:!1}}]})}))}))})),e.setAttribute("vast-url",h)}}},1762:(e,t,n)=>{"use strict";var r=n(2004);function o(e,t){switch(e.type){case"simple":return t[e.key]}}function i(){var e;try{window.top.document.referrer&&(e=window.top.document.referrer)}catch(t){e=document.referrer}return e?r(e):void 0}e.exports={evalTemplate:o,makePageTargeting:function(e,t,n,r){var i=n.beacons&&n.beacons.targetingParams&&n.beacons.targetingParams.exclude||{},a={};return Object.keys(e||{}).forEach((function(n){var s=o(e[n],t);"number"==typeof s&&(s+=""),null==s||""===s||Array.isArray(s)&&0===s.length||(r&&r.setTargeting(n,s),!i[n]&&(a[n]=s))})),a},vastCustomParams:function(e,t,n){var r=["ag","channel","cs","direct","et","feats","gd","in","lang","loggedin","pagetype","path","pod","pt","referrer","terms"];for(var o in t||(t={}),t)if(-1<r.indexOf(o)){var i=t[o];Array.isArray(i)&&(i=i.join(",")),e[o]=i}return n?encodeURIComponent(Object.keys(e).map((function(t){return[t,e[t]].join("=")})).join("&")):e},makePageModel:function(e,t,n,r){var o={};window.phxTrackedFeatures&&(o={trackedFeatures:Object.keys(window.phxTrackedFeatures).map((function(e){return e+":"+(window.phxTrackedFeatures[e]?"1":"0")})).join("|")});var a={};if(n){var s=window.GdprStatus;a={donottrack:!0,gdprIsApplicable:!0,gdprIsConsentGivenPromise:s.waitForConsentValue().then((function(){return s.isConsentGivenForPurposes(s.PURPOSE_IDS.advertising)})),kuid:void 0,optout:!0}}return Object.assign({},e,o,{referrer:i(),loggedIn:window.phxIsLoggedIn()?"1":"0"},a,r||{},t)}}},7796:e=>{"use strict";e.exports=function(e,t){function n(e){t.then?t.then((function(n){t=n,e.call(t)})):e.call(t)}var r=window[e];if(window[e]={push:n},void 0!==r)for(var o=0;o<r.length;o++)n(r[o])}},7965:e=>{"use strict";e.exports=function(e){var t,n=(t=e,window[t]=window[t]||[],window[t]);return new Promise((function(e){n.push((function(){e(this)}))}))}},6483:e=>{"use strict";var t,n=function(){};try{t=window}catch(e){t={}}e.exports=t.performance&&t.performance.mark?t.performance:{getEntriesByName:n,mark:n,measure:n}},4433:(e,t,n)=>{"use strict";var r=n(6483),o=0;function i(){var e="phxMark:"+o++;return r.mark(e),e}e.exports=function(e){var t=i();return{end:function(){var n=i();r.measure(e,t,n);var o=r.getEntriesByName(e);if(o&&o.length)return o[o.length-1].duration}}}},2004:(e,t)=>{var n;void 0===(n=function(){"use strict";return function(e){return e.replace(/^https?:\/\//,"").replace(/[:\/].*/,"").toLowerCase().replace(/^www\./,"").replace(/^m\./,"").replace(/\.blogspot(\.com?)?\.[a-z]{2,3}$/,".blogspot.com").replace(/^.*\.(gamepedia|wikia)(\.com?)?\.[a-z]{2,3}$/,"$1.com").split(".").slice(-3).join(".")}}.apply(t,[]))||(e.exports=n)},8725:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},9157:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},6426:(e,t,n)=>{var r=n(9157),o=n(8725);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(7796)("phxAdServerQueue",n(5061))})()})();
//# sourceMappingURL=adServerDfp.min.js.map