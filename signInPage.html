<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In</title>
    <link rel="stylesheet" href="rayBank.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>
<body>
    <center>
        <h1 class="text-white">Welcome to Raymond Bank</h1>
        <div class="container">
            <div class="col-md-7">
                <div id="signInD" class="signInDiv">
                    <h1 class="display-6">Sign In</h1>
                        <input id="mailId" class=" form-control my-2 text-center" type="email" placeholder="email">
                        <td><input id="passId" class="form-control my-2 text-center" type="password" placeholder="password"></td>
                        <!-- add a peekthrough logo for password which changes type to text -->
                    <button class="my-3 btn btn-info" onclick="signIn()">Sign In</button>
                    <p>Don't have an account? <a href="http://127.0.0.1:5500/rayBank/index.html">Sign up</a></p> 
                </div>
            </div> 
        </div>
    <script>
        let allClientData;
        allClientData = localStorage.myCustomers?JSON.parse(localStorage.myCustomers):[]
        let j = 0
        function signIn(){
            for(i=0; i<allClientData.length;i++)
            {
                if (allClientData[i].emailAddress==mailId.value && allClientData[i].        password==passId.value)
                {
                    localStorage.userIndex = i
                    alert(`Welcome,  ${allClientData[i].firstName}`)
                    window.location.href = 'http://127.0.0.1:5500/rayBank/mainPage.html'
                    j = 1

                }
                    
            }
            if (mailId.value=="" || passId.value==""){
                alert(`Kindly fill in all details`)
            }
            else if(j==0)
            {
                alert(`account not found`)
            }
        }
        
    </script>

 
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
</body>
</html>